<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Amy&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="iOS Developer">
<meta property="og:type" content="website">
<meta property="og:title" content="Amy's Blog">
<meta property="og:url" content="http://yoursite.com/">
<meta property="og:site_name" content="Amy's Blog">
<meta property="og:description" content="iOS Developer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Amy's Blog">
<meta name="twitter:description" content="iOS Developer">

  
    <link rel="alternative" href="/atom.xml" title="Amy&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="http://stormzhang.qiniudn.com/amy_avatar.jpg">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">Amy</a></h1>
		</hgroup>

		
		<p class="header-subtitle">面朝大海，春暖花开</p>
		
		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
			</ul>
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/zhangaidi" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/zhangqi8" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="http://feed.feedsky.com/zhangaidi" title="rss">rss</a>
		        
			</div>
		</nav>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://stormzhang.qiniudn.com/amy_avatar.jpg">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">Amy</a></h1>
			</hgroup>
			
			<p class="header-subtitle">面朝大海，春暖花开</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/zhangaidi" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/zhangqi8" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="http://feed.feedsky.com/zhangaidi" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      
  
    <article id="post-learn-swift" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/09/14/learn-swift/" class="article-date">
  	<time datetime="2014-09-14T13:45:43.000Z" itemprop="datePublished">Sep 14 2014</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/14/learn-swift/">Swift学习总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="使用let来声明常量，使用var来声明变量">使用let来声明常量，使用var来声明变量</h2>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var myVariable = <span class="number">42</span></div><div class="line">myVariable = <span class="number">50</span></div><div class="line">let myConstant = <span class="number">42</span></div></pre></td></tr></table></figure>

<h2 id="如果初始值没有提供足够的信息（或者没有初始值），那你需要在变量后面声明类型，用冒号分割">如果初始值没有提供足够的信息（或者没有初始值），那你需要在变量后面声明类型，用冒号分割</h2>
<p>&lt;!— more -&gt;</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let implicitInteger = <span class="number">70</span></div><div class="line">let implicitDouble = <span class="number">70.0</span></div><div class="line">let <span class="symbol">explicitDouble:</span> <span class="constant">Double</span> = <span class="number">70</span></div></pre></td></tr></table></figure>

<h2 id="要创建一个空数组或者字典，使用初始化语法">要创建一个空数组或者字典，使用初始化语法</h2>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">let emptyArray = [<span class="constant">String</span>]()</div><div class="line">let emptyDictionary = [<span class="constant">String</span><span class="symbol">:</span> <span class="constant">Float</span>]()</div><div class="line">shoppingList = []</div><div class="line">occupations = [<span class="symbol">:</span>]</div><div class="line"></div><div class="line">var shoppingList = [<span class="string">"catfish"</span>, <span class="string">"water"</span>, <span class="string">"tulips"</span>, <span class="string">"blue paint"</span>]</div><div class="line">shoppingList[<span class="number">1</span>] = <span class="string">"bottle of water"</span></div><div class="line">var occupations = [</div><div class="line">    <span class="string">"Malcolm"</span><span class="symbol">:</span> <span class="string">"Captain"</span>,</div><div class="line">    <span class="string">"Kaylee"</span><span class="symbol">:</span> <span class="string">"Mechanic"</span>,</div><div class="line">]</div><div class="line">occupations[<span class="string">"Jayne"</span>] = <span class="string">"Public Relations"</span></div></pre></td></tr></table></figure>

<h2 id="控制流">控制流</h2>
<ol>
<li><p>使用if和switch来进行条件操作，使用for-in、for、while和do-while来进行循环。包裹条件和循环变量括号可以省略，但是语句体的大括号是必须的。</p>
</li>
<li><p>在if语句中，条件必须是一个布尔表达式</p>
</li>
<li><p>你可以一起使用if和let来处理值缺失的情况。有些变量的值是可选的。一个可选的值可能是一个具体的值或者是nil，表示值缺失。在类型后面加一个问号来标记这个变量的值是可选的。如果变量的可选值是nil，条件会判断为false，大括号中的代码会被跳过。如果不是nil，会将值赋给let后面的常量，这样代码块中就可以使用这个值了。</p>
</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var <span class="symbol">optionalString:</span> <span class="constant">String</span>? = <span class="string">"Hello"</span></div><div class="line">optionalString == <span class="keyword">nil</span></div><div class="line">var <span class="symbol">optionalName:</span> <span class="constant">String</span>? = <span class="string">"John Appleseed"</span></div><div class="line">var greeting = <span class="string">"Hello!"</span></div><div class="line"><span class="keyword">if</span> let name = optionalName {</div><div class="line">    greeting = <span class="string">"Hello, \(name)"</span> </div><div class="line">}</div></pre></td></tr></table></figure>

<ol>
<li>switch支持任意类型的数据以及各种比较操作——不仅仅是整数以及测试相等。运行switch中匹配到的子句之后，程序会退出switch语句，并不会继续向下运行，所以不需要在每个子句结尾写break。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">let vegetable = <span class="string">"red pepper"</span></div><div class="line">switch vegetable { </div><div class="line">    <span class="keyword">case</span> <span class="string">"celery"</span><span class="symbol">:</span> </div><div class="line">        let vegetableComment = <span class="string">"Add some raisins and make ants on a log."</span> </div><div class="line">    <span class="keyword">case</span> <span class="string">"cucumber"</span>, <span class="string">"watercress"</span><span class="symbol">:</span></div><div class="line">        let vegetableComment = <span class="string">"That would make a good tea sandwich."</span> </div><div class="line">    <span class="keyword">case</span> let x where x.hasSuffix(<span class="string">"pepper"</span>)<span class="symbol">:</span></div><div class="line">        let vegetableComment = <span class="string">"Is it a spicy \(x)?"</span></div><div class="line">    <span class="symbol">default:</span> </div><div class="line">        let vegetableComment = <span class="string">"Everything tastes good in soup."</span></div><div class="line">}</div></pre></td></tr></table></figure>

<ol>
<li>你可以使用for-in来遍历字典，需要两个变量来表示每个键值对。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">let interestingNumbers = [</div><div class="line">    <span class="string">"Prime"</span><span class="symbol">:</span> [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>],</div><div class="line">    <span class="string">"Fibonacci"</span><span class="symbol">:</span> [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>],</div><div class="line">    <span class="string">"Square"</span><span class="symbol">:</span> [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>], </div><div class="line">]</div><div class="line">var largest = <span class="number">0</span> </div><div class="line"><span class="input"><span class="prompt">for (kind, numbers) in interestingNumbers {</span></span></div><div class="line">    for number in numbers {</div><div class="line">        if number &gt; largest {</div><div class="line">            largest = number</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line">largest</div></pre></td></tr></table></figure>

<ol>
<li>你可以在循环中使用..&lt; （不含上限值）或者… （包含上限值） 来表示范围，也可以使用传统的写法，两者是等价的：</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var firstForLoop = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">4</span> {         <span class="keyword">or</span>  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>…<span class="number">4</span>  含<span class="number">4</span></div><div class="line">    firstForLoop += i</div><div class="line">}</div><div class="line">firstForLoop</div><div class="line"> </div><div class="line">var secondForLoop = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> var i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i {</div><div class="line">    secondForLoop += i</div><div class="line">}</div><div class="line">secondForLoop</div></pre></td></tr></table></figure>

<h2 id="函数和闭包">函数和闭包</h2>
<ol>
<li>使用func来声明一个函数，使用名字和参数来调用函数。使用-&gt;来指定函数返回值。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">func greet(name: String, day: String) -&gt;</span> <span class="constant">String</span> {</span></div><div class="line">    return <span class="string">"Hello \(name), today is \(day)."</span></div><div class="line">}</div><div class="line">greet(<span class="string">"Bob"</span>, <span class="string">"Tuesday"</span>)</div></pre></td></tr></table></figure>

<ol>
<li>使用一个元组来返回多个值。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">func getGasPrices() -&gt;</span> (<span class="constant">Double</span>, <span class="constant">Double</span>, <span class="constant">Double</span>) {</span></div><div class="line">    return (<span class="number">3.59</span>, <span class="number">3.69</span>, <span class="number">3.79</span>)</div><div class="line">}</div><div class="line">getGasPrices()</div></pre></td></tr></table></figure>



<ol>
<li>函数的参数数量是可变的，用一个数组来获取它们</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">func sumOf(numbers: Int...) -&gt;</span> <span class="constant">Int</span> {</span></div><div class="line">    var sum = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers {</div><div class="line">        sum += number</div><div class="line">    } </div><div class="line">    <span class="keyword">return</span> sum</div><div class="line">} </div><div class="line">sumOf() </div><div class="line">sumOf(<span class="number">42</span>, <span class="number">597</span>, <span class="number">12</span>)</div></pre></td></tr></table></figure>

<ol>
<li>函数可以嵌套。被嵌套的函数可以访问外侧函数的变量，你可以使用嵌套函数来重构一个太长或者太复杂的函数。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">func returnFifteen() -&gt;</span> <span class="constant">Int</span> {</span></div><div class="line"> var y = <span class="number">10</span> </div><div class="line">func add() {</div><div class="line">        y += <span class="number">5</span></div><div class="line">    }</div><div class="line">    add()</div><div class="line">    <span class="keyword">return</span> y</div><div class="line">} </div><div class="line">returnFifteen()</div></pre></td></tr></table></figure>

<ol>
<li>函数是一等公民，这意味着函数可以作为另一个函数的返回值。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">func makeIncrementer() -&gt;</span> (<span class="constant">Int</span> -&gt; <span class="constant">Int</span>) {</span></div><div class="line">    func addOne(<span class="symbol">number:</span> <span class="constant">Int</span>) -&gt; <span class="constant">Int</span> {</div><div class="line">        return <span class="number">1</span> + number</div><div class="line">    } </div><div class="line">    <span class="keyword">return</span> addOne</div><div class="line">}</div><div class="line">var increment = makeIncrementer()</div><div class="line">increment(<span class="number">7</span>)</div></pre></td></tr></table></figure>

<p>6.函数也可以当做参数传入另一个函数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">func hasAnyMatches(list: [Int], condition: Int -&gt;</span> <span class="constant">Bool</span>) -&gt; <span class="constant">Bool</span> {</span></div><div class="line">    for item in list {</div><div class="line">        if condition(item) {</div><div class="line">            return true</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span></div><div class="line"><span class="input"><span class="prompt">}</span></span></div><div class="line">func lessThanTen(number: Int) -&gt; <span class="constant">Bool</span> {</div><div class="line">    return number &lt; <span class="number">10</span></div><div class="line">}</div><div class="line">var numbers = [<span class="number">20</span>, <span class="number">19</span>, <span class="number">7</span>, <span class="number">12</span>]</div><div class="line">hasAnyMatches(numbers, lessThanTen)</div></pre></td></tr></table></figure>

<p>7.函数实际上是一种特殊的闭包，你可以使用{}来创建一个匿名闭包。使用in来分割参数并返回类型。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">numbers.map({</span></span></div><div class="line">    (number: Int) -&gt; <span class="constant">Int</span> in</div><div class="line">    let result = <span class="number">3</span> * number </div><div class="line">    <span class="keyword">return</span> result </div><div class="line">})</div></pre></td></tr></table></figure>

<h2 id="对象和类">对象和类</h2>
<ol>
<li>使用class和类名来创建一个类。类中属性的声明和常量、变量声明一样，唯一的区别就是它们的上下文是类。同样，方法和函数声明也一样。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> {</span></div><div class="line">    var numberOfSides = <span class="number">0</span> </div><div class="line">    func simpleDescription() -&gt; <span class="constant">String</span> {</div><div class="line">        <span class="keyword">return</span> <span class="string">"A shape with \(numberOfSides) sides."</span> </div><div class="line">    } </div><div class="line">}</div></pre></td></tr></table></figure>

<ol>
<li>要创建一个类的实例，在类名后面加上括号。使用点语法来访问实例的属性和方法。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var shape = <span class="constant">Shape</span>()</div><div class="line">shape.numberOfSides = <span class="number">7</span> </div><div class="line">var shapeDescription = shape.simpleDescription()</div></pre></td></tr></table></figure>

<ol>
<li>这个版本的Shape类缺少了一些重要的东西：一个构造函数来初始化类实例。使用init来创建一个构造器。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedShape</span> {</span></div><div class="line">    var <span class="symbol">numberOfSides:</span> <span class="constant">Int</span> = <span class="number">0</span></div><div class="line">    var <span class="symbol">name:</span> <span class="constant">String</span></div><div class="line">    init(<span class="symbol">name:</span> <span class="constant">String</span>) {</div><div class="line">        <span class="keyword">self</span>.name = name</div><div class="line">    } </div><div class="line">    func simpleDescription() -&gt; <span class="constant">String</span> {</div><div class="line">        <span class="keyword">return</span> <span class="string">"A shape with \(numberOfSides) sides."</span> </div><div class="line">    } </div><div class="line">}</div></pre></td></tr></table></figure>

<p>注意self被用来区别实例变量。当你创建实例的时候，像传入函数参数一样给类传入构造器的参数。每个属性都需要赋值——无论是通过声明（就像numberOfSides）还是通过构造器（就像name）。如果你需要在删除对象之前进行一些清理工作，使用deinit创建一个析构函数。</p>
<ol>
<li>子类的定义方法是在它们的类名后面加上父类的名字，用冒号分割。创建类的时候并不需要一个标准的根类，所以你可以忽略父类。 子类如果要重写父类的方法的话，需要用override标记——如果没有添加override就重写父类方法的话编译器会报错。编译器同样会检测override标记的方法是否确实在父类中。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span>: <span class="title">NamedShape</span> {</span></div><div class="line">    var <span class="symbol">sideLength:</span> <span class="constant">Double</span></div><div class="line">    init(<span class="symbol">sideLength:</span> <span class="constant">Double</span>, <span class="symbol">name:</span> <span class="constant">String</span>) {</div><div class="line">        <span class="keyword">self</span>.sideLength = sideLength</div><div class="line">        <span class="keyword">super</span>.init(<span class="symbol">name:</span> name)</div><div class="line">        numberOfSides = <span class="number">4</span></div><div class="line">    }</div><div class="line">    func area() -&gt; <span class="constant">Double</span> {</div><div class="line">        <span class="keyword">return</span> sideLength * sideLength</div><div class="line">    } </div><div class="line">    override func simpleDescription() -&gt; <span class="constant">String</span> { </div><div class="line">        <span class="keyword">return</span> <span class="string">"A square with sides of length \(sideLength)."</span></div><div class="line">    }</div><div class="line">}</div><div class="line">let test = <span class="constant">Square</span>(<span class="symbol">sideLength:</span> <span class="number">5.2</span>, <span class="symbol">name:</span> <span class="string">"my test square"</span>)</div><div class="line">test.area()</div><div class="line">test.simpleDescription() </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">EquilateralTriangle</span>: <span class="title">NamedShape</span> {</span></div><div class="line">    var <span class="symbol">sideLength:</span> <span class="constant">Double</span> = <span class="number">0</span>.<span class="number">0</span></div><div class="line"></div><div class="line">    init(<span class="symbol">sideLength:</span> <span class="constant">Double</span>, <span class="symbol">name:</span> <span class="constant">String</span>) {</div><div class="line">        <span class="keyword">self</span>.sideLength = sideLength</div><div class="line">        <span class="keyword">super</span>.init(<span class="symbol">name:</span> name)</div><div class="line">        numberOfSides = <span class="number">3</span></div><div class="line">    } </div><div class="line"></div><div class="line">    var <span class="symbol">perimeter:</span> <span class="constant">Double</span> {</div><div class="line">        get {</div><div class="line">            <span class="keyword">return</span> <span class="number">3.0</span> * sideLength</div><div class="line">        }</div><div class="line">        set {</div><div class="line">            sideLength = newValue / <span class="number">3.0</span> </div><div class="line">        }</div><div class="line">    } </div><div class="line"><span class="input"><span class="prompt"></span></span></div><div class="line">    override func simpleDescription() -&gt; <span class="constant">String</span> {</div><div class="line">        return <span class="string">"An equilateral triagle with sides of length \(sideLength)."</span></div><div class="line">    }</div><div class="line">}</div><div class="line">var triangle = <span class="constant">EquilateralTriangle</span>(<span class="symbol">sideLength:</span> <span class="number">3.1</span>, <span class="symbol">name:</span> <span class="string">"a triangle"</span>)</div><div class="line">triangle.perimeter</div><div class="line">triangle.perimeter = <span class="number">9.9</span></div><div class="line">triangle.sideLength</div></pre></td></tr></table></figure>

<p>类中的方法和一般的函数有一个重要的区别，函数的参数名只在函数内部使用，但是方法的参数名需要在调用的时候显式说明（除了第一个参数）。默认情况下，方法的参数名和它在方法内部的名字一样，不过你也可以定义第二个名字，这个名字被用在方法内部。<br>处理变量的可选值时，你可以在操作（比如方法、属性和子脚本）之前加?。如果?之前的值是nil，?后面的东西都会被忽略，并且整个表达式返回nil。否则，?之后的东西都会被运行。在这两种情况下，整个表达式的值也是一个可选值。</p>
<h2 id="枚举和结构体">枚举和结构体</h2>
<ol>
<li>使用enum来创建一个枚举。就像类和其他所有命名类型一样，枚举可以包含方法。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">enum <span class="constant">Rank</span><span class="symbol">:</span> <span class="constant">Int</span> {</div><div class="line">    <span class="keyword">case</span> <span class="constant">Ace</span> = <span class="number">1</span></div><div class="line">    <span class="keyword">case</span> <span class="constant">Two</span>, <span class="constant">Three</span>, <span class="constant">Four</span>, <span class="constant">Five</span>, <span class="constant">Six</span>, <span class="constant">Seven</span>, <span class="constant">Eight</span>, <span class="constant">Nine</span>, <span class="constant">Ten</span></div><div class="line">    <span class="keyword">case</span> <span class="constant">Jack</span>, <span class="constant">Queen</span>, <span class="constant">King</span></div><div class="line">    func simpleDescription() -&gt; <span class="constant">String</span> {</div><div class="line">        switch <span class="keyword">self</span> {</div><div class="line">            <span class="keyword">case</span> .<span class="constant">Ace</span><span class="symbol">:</span></div><div class="line">                <span class="keyword">return</span> <span class="string">"ace"</span></div><div class="line">            <span class="keyword">case</span> .<span class="constant">Jack</span><span class="symbol">:</span></div><div class="line">                <span class="keyword">return</span> <span class="string">"jack"</span></div><div class="line">            <span class="keyword">case</span> .<span class="constant">Queen</span><span class="symbol">:</span></div><div class="line">                <span class="keyword">return</span> <span class="string">"queen"</span></div><div class="line">            <span class="keyword">case</span> .<span class="constant">King</span><span class="symbol">:</span></div><div class="line">                <span class="keyword">return</span> <span class="string">"king"</span></div><div class="line">            <span class="symbol">default:</span></div><div class="line">                <span class="keyword">return</span> <span class="constant">String</span>(<span class="keyword">self</span>.toRaw())</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line">let ace = <span class="constant">Rank</span>.<span class="constant">Ace</span></div><div class="line">let aceRawValue = ace.toRaw()</div></pre></td></tr></table></figure>

<p>在上面的例子中，枚举原始值的类型是Int，所以你只需要设置第一个原始值。剩下的原始值会按照顺序赋值。你也可以使用字符串或者浮点数作为枚举的原始值。</p>
<ol>
<li>使用toRaw和fromRaw函数来在原始值和枚举值之间进行转换。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> let convertedRank = <span class="constant">Rank</span>.fromRaw(<span class="number">3</span>) {</div><div class="line">    let threeDescription = convertedRank.simpleDescription()</div><div class="line">}</div></pre></td></tr></table></figure>

<ol>
<li>枚举的成员值是实际值，并不是原始值的另一种表达方法。实际上，如果原始值没有意义，你不需要设置。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">enum Suit {</span></span></div><div class="line">    case Spades, Hearts, Diamonds, Clubs</div><div class="line">        func simpleDescription() -&gt; <span class="constant">String</span> {</div><div class="line">            switch self {</div><div class="line">                case .<span class="constant">Spades</span><span class="symbol">:</span> </div><div class="line">                    <span class="keyword">return</span> <span class="string">"spades"</span></div><div class="line">                <span class="keyword">case</span> .<span class="constant">Hearts</span><span class="symbol">:</span></div><div class="line">                    <span class="keyword">return</span> <span class="string">"hearts"</span></div><div class="line">                <span class="keyword">case</span> .<span class="constant">Diamonds</span><span class="symbol">:</span></div><div class="line">                    <span class="keyword">return</span> <span class="string">"diamonds"</span></div><div class="line">                <span class="keyword">case</span> .<span class="constant">Clubs</span><span class="symbol">:</span></div><div class="line">                    <span class="keyword">return</span> <span class="string">"clubs"</span></div><div class="line">            }</div><div class="line">        }</div><div class="line">}</div><div class="line">let hearts = <span class="constant">Suit</span>.<span class="constant">Hearts</span></div><div class="line">let heartsDescription = hearts.simpleDescription()</div></pre></td></tr></table></figure>

<p>注意，有两种方式可以引用Hearts成员：给hearts常量赋值时，枚举成员Suit.Hearts需要用全名来引用，因为常量没有显式指定类型。在switch里，枚举成员使用缩写.Hearts来引用，因为self的值已经知道是一个suit。已知变量类型的情况下你可以使用缩写。</p>
<ol>
<li>使用struct来创建一个结构体。结构体和类有很多相同的地方，比如方法和构造器。它们结构体之间最大的一个区别就是 结构体是传值，类是传引用。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">struct Card {</span></span></div><div class="line">    var rank: Rank</div><div class="line">    var suit: Suit</div><div class="line">    func simpleDescription() -&gt; <span class="constant">String</span> {</div><div class="line">        return <span class="string">"The \(rank.simpleDescription()) of \</span></div><div class="line">            (suit.simpleDescription())"</div><div class="line">    }</div><div class="line">}</div><div class="line">let threeOfSpades = <span class="constant">Card</span>(<span class="symbol">rank:</span> .<span class="constant">Three</span>, <span class="symbol">suit:</span> .<span class="constant">Spades</span>)</div><div class="line">let threeOfSpadesDescription = threeOfSpades.simpleDescription()</div></pre></td></tr></table></figure>

<h2 id="接口和扩展">接口和扩展</h2>
<ol>
<li>使用protocol来声明一个接口。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">protocol <span class="constant">ExampleProtocol</span> {</div><div class="line">    var <span class="symbol">simpleDescription:</span> <span class="constant">String</span> { get }</div><div class="line">    mutating func adjust() </div><div class="line">}</div></pre></td></tr></table></figure>

<p>类、枚举和结构体都可以实现接口。</p>
<p>2.使用extension来为现有的类型添加功能，比如添加一个计算属性的方法。你可以使用扩展来给任意类型添加协议，甚至是你从外部库或者框架中导入的类型。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">extension <span class="constant">Int</span><span class="symbol">:</span> <span class="constant">ExampleProtocol</span> {</div><div class="line">    var <span class="symbol">simpleDescription:</span> <span class="constant">String</span> {</div><div class="line">        <span class="keyword">return</span> <span class="string">"The number \(self)"</span></div><div class="line">    }</div><div class="line">    mutating func adjust() {</div><div class="line">        <span class="keyword">self</span> += <span class="number">42</span></div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="number">7</span>.simpleDescription</div></pre></td></tr></table></figure>

<h2 id="泛型">泛型</h2>
<ol>
<li>在尖括号里写一个名字来创建一个泛型函数或者类型。</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func repeat&lt;<span class="constant">ItemType</span>&gt;(<span class="symbol">item:</span> <span class="constant">ItemType</span>, <span class="symbol">times:</span> <span class="constant">Int</span>) -&gt; [<span class="constant">ItemType</span>] {</div><div class="line">    var result = <span class="constant">ItemType</span>[]()</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..times {</div><div class="line">        result += item</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">}</div><div class="line">repeat(<span class="string">"knock"</span>, <span class="number">4</span>)</div></pre></td></tr></table></figure>

<ol>
<li>你也可以创建泛型类、枚举和结构体</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">enum OptionalValue&lt;T&gt;</span> {</span></div><div class="line">    case <span class="constant">None</span> case <span class="constant">Some</span>(<span class="constant">T</span>)</div><div class="line"><span class="input"><span class="prompt">}</span></span></div><div class="line">var possibleInteger: OptionalValue&lt;Int&gt; = .<span class="constant">None</span></div><div class="line">possibleInteger = .<span class="constant">Some</span>(<span class="number">100</span>)</div></pre></td></tr></table></figure>

<p>3.在类型名后面使用where来指定一个需求列表——例如，要限定实现一个协议的类型，需要限定两个类型要相同，或者限定一个类必须有一个特定的父类。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">func anyCommonElements &lt;<span class="constant">T</span>, <span class="constant">U</span> where <span class="constant">T</span><span class="symbol">:</span> <span class="constant">Sequence</span>, <span class="constant">U</span><span class="symbol">:</span> <span class="constant">Sequence</span>, <span class="constant">T</span>.<span class="constant">GeneratorType</span>.<span class="constant">Element</span><span class="symbol">:</span> <span class="constant">Equatable</span>, <span class="constant">T</span>.<span class="constant">GeneratorType</span>.<span class="constant">Element</span> == <span class="constant">U</span>.<span class="constant">GeneratorType</span>.<span class="constant">Element</span>&gt; (<span class="symbol">lhs:</span> <span class="constant">T</span>, <span class="symbol">rhs:</span> <span class="constant">U</span>) -&gt; <span class="constant">Bool</span> {</div><div class="line">    <span class="keyword">for</span> lhsItem <span class="keyword">in</span> lhs {</div><div class="line">        <span class="keyword">for</span> rhsItem <span class="keyword">in</span> rhs {</div><div class="line">            <span class="keyword">if</span> lhsItem == rhsItem {</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span></div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span></div><div class="line">} </div><div class="line">anyCommonElements([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">3</span>])</div></pre></td></tr></table></figure>

<p>简单起见，你可以忽略where，只在冒号后面写接口或者类名。<t: equatable="">和<t where="" t:="" equatable="">是等价的。</t></t:></p>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
</article>






  
    <article id="post-swift-integration-oc" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/09/08/swift-integration-oc/" class="article-date">
  	<time datetime="2014-09-08T12:47:49.000Z" itemprop="datePublished">Sep 8 2014</time>
</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Swift/">Swift</a></li></ul>

    </div>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/08/swift-integration-oc/">Swift与OC交互总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="初始化">初始化</h2>
<p>为了使用 Swift 实例化 Objective-C 的 Class，你应该使用 Swift 语法调用它的一个初始化器。当 Objective-C 的init方法变化到 Swift，他们用 Swift 初始化语法呈现。“init”前缀被截断当作一个关键字，用来表明该方法是初始化方法。那些以“initWith”开头的init方法，“With”也会被去除。从“init”或者“initWith”中分离出来的这部分方法名首字母变成小写，并且被当做是第一个参数的参数名。其余的每一部分方法名依次变味参数名。这些方法名都在圆括号中被调用。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">let <span class="symbol">myTableView:</span> <span class="constant">UITableView</span> = <span class="constant">UITableView</span>(<span class="symbol">frame:</span> <span class="constant">CGRectZero</span>, <span class="symbol">style:</span> .<span class="constant">Grouped</span>)</div></pre></td></tr></table></figure>


        
          <p class="article-more-link">
            <a href="/2014/09/08/swift-integration-oc/#more">more >></a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
</article>






  
    <article id="photo-first-blog" class="article article-type-photo" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/09/04/first-blog/" class="article-date">
  	<time datetime="2014-09-04T04:53:17.000Z" itemprop="datePublished">Sep 4 2014</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/04/first-blog/">First Blog</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这是我为Amy搭建并发表的第一篇博客，很简单清新的主题，基于Hexo，还不错吧？</p>
<p>一起久了两个人的性格会逐渐互补 爱得多的那个脾气会变得越来越好 越来越迁就 被爱的那个性格则变得越来越霸道 仍然能走在一起 是因为其中一方在努力迎合。总有一个人会改变自己放下底线来迎合纵容你。不是天生好脾气 只是特别怕失去你 才宁愿把你越宠越坏困在怀里。其实，性格不合只是不爱的借口。</p>

        
          <p class="article-more-link">
            <a href="/2014/09/04/first-blog/#more">more >></a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
</article>






  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/09/01/hello-world/" class="article-date">
  	<time datetime="2014-09-01T12:47:49.000Z" itemprop="datePublished">Sep 1 2014</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">trobuleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2>
<h3 id="Create_a_new_post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>


        
          <p class="article-more-link">
            <a href="/2014/09/01/hello-world/#more">more >></a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
</article>






  
  

      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-center">
    		&copy; 2014 Amy | Powered By <a href="http://stormzhang.github.io/" target="_blank">Storm Zhang</a>
    	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>